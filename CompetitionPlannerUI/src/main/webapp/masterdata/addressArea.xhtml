<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition>
		<ui:param name="bundle" value="#{messages.bundle('addresses')}"/>
		<ui:param name="safeAddress" value="#{address != null ? address : addressBean.newAddress()}"/>

		<h:panelGroup layout="block" styleClass="ui-widget-content">
			<h:panelGrid columns="2" cellspacing="5">
				<h:outputText value="#{bundle.country}"/>
				<p:autoComplete value="#{safeAddress.country}" converter="#{countryConverter}"
					completeMethod="#{addressBean.getCountries}" var="country" itemValue="#{country.name}" itemLabel="#{country.name}"
					required="#{addressReqired}" requiredMessage="#{bundle.format('fieldValidation', bundle.country)}"
					readonly="#{not canSave}"/>

				<h:outputText value="#{bundle.city}"/>
				<p:autoComplete value="#{safeAddress.city}" converter="#{cityConverter}"
					completeMethod="#{addressBean.getCities}" var="city" itemValue="#{city.name}" itemLabel="#{city.name}"
					required="#{addressReqired}" requiredMessage="#{bundle.format('fieldValidation', bundle.city)}"
					readonly="#{not canSave}"/>

				<h:outputText value="#{bundle.postCode}"/>
				<p:inputText value="#{safeAddress.postCode}" autocomplete="off" maxlength="10" size="10"
					required="#{addressReqired}" requiredMessage="#{bundle.format('fieldValidation', bundle.postCode)}"
					readonly="#{not canSave}"/>

				<h:outputText value="#{bundle.street}"/>
				<p:inputText value="#{safeAddress.street}" autocomplete="off" maxlength="255" size="92"
					required="#{addressReqired}" requiredMessage="#{bundle.format('fieldValidation', bundle.street)}"
					readonly="#{not canSave}"/>

				<h:outputText value="#{bundle.number}"/>
				<p:inputText value="#{safeAddress.number}" autocomplete="off" maxlength="10" size="10"
					required="#{addressReqired}" requiredMessage="#{bundle.format('fieldValidation', bundle.number)}"
					readonly="#{not canSave}"/>

				<h:outputText value="#{bundle.addition}"/>
				<p:inputText value="#{safeAddress.addition}" autocomplete="off" maxlength="255" size="92"
					readonly="#{not canSave}"/>

				<h:outputText value="#{bundle.homepage}"/>
				<p:inputText value="#{safeAddress.homepage}" autocomplete="off" maxlength="255" size="92"
					readonly="#{not canSave}"/>
			</h:panelGrid>
		</h:panelGroup>
	</ui:composition>
</html>